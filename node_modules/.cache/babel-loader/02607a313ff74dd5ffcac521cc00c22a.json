{"ast":null,"code":"var _jsxFileName = \"/Users/tangkailai/Desktop/NU_CS/CS_497/scheduler/src/utilities/firebase.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { initializeApp } from 'firebase/app';\nimport { getDatabase, onValue, ref, set } from 'firebase/database';\nimport React, { useState, useEffect } from 'react';\nimport { getAuth, GoogleAuthProvider, onIdTokenChanged, signInWithPopup, signOut } from 'firebase/auth';\nimport { TermButton } from '../components/CourseList';\nimport { terms } from './times'; // Your web app's Firebase configuration\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBCQQhCIFW-nefn5_zKn8TEMEuZxn-VQto\",\n  authDomain: \"actions-builder-sdk-3a084.firebaseapp.com\",\n  databaseURL: \"https://actions-builder-sdk-3a084.firebaseio.com\",\n  projectId: \"actions-builder-sdk-3a084\",\n  storageBucket: \"actions-builder-sdk-3a084.appspot.com\",\n  messagingSenderId: \"800885434356\",\n  appId: \"1:800885434356:web:d1a5b33260fcb601eafba1\"\n};\nconst firebase = initializeApp(firebaseConfig);\nconst database = getDatabase(firebase);\nexport const useData = (path, transform) => {\n  _s();\n\n  const [data, setData] = useState();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState();\n  useEffect(() => {\n    const dbRef = ref(database, path);\n    return onValue(dbRef, snapshot => {\n      const val = snapshot.val();\n      setData(transform ? transform(val) : val);\n      setLoading(false);\n      setError(null);\n    }, error => {\n      setData(null);\n      setLoading(false);\n      setError(error);\n    });\n  }, [path, transform]);\n  return [data, loading, error];\n};\n\n_s(useData, \"NHGwgwF0D09hI9K12vQBrfPMsF4=\");\n\nexport const setData = (path, value) => set(ref(database, path), value);\nexport const signInWithGoogle = () => {\n  signInWithPopup(getAuth(firebase), new GoogleAuthProvider());\n};\n\nconst SignInButton = () => /*#__PURE__*/_jsxDEV(\"button\", {\n  className: \"btn btn-secondary btn-sm\",\n  onClick: () => signInWithGoogle(),\n  children: \"Sign In\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 52,\n  columnNumber: 3\n}, this);\n\n_c = SignInButton;\n\nconst TermSelector = ({\n  term,\n  setTerm\n}) => {\n  _s2();\n\n  const [user] = useUserState();\n  return;\n\n  /*#__PURE__*/\n  _jsxDEV(\"div\", {\n    className: \"btn-toolbar justify-content-between\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn-group\",\n      children: Object.values(terms).map(value => /*#__PURE__*/_jsxDEV(TermButton, {\n        term: value,\n        setTerm: setTerm,\n        checked: value === term\n      }, value, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 20\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), user ? /*#__PURE__*/_jsxDEV(SignOuButton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 16\n    }, this) : /*#__PURE__*/_jsxDEV(SignInButton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 35\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(TermSelector, \"UKrGTS+2tpbFdkCrn7luqsvYRv8=\", false, function () {\n  return [useUserState];\n});\n\n_c2 = TermSelector;\n\nconst firebaseSignOut = () => signOut(getAuth(firebase));\n\nexport { firebaseSignOut as signOut };\n\nconst SignOuButton = () => /*#__PURE__*/_jsxDEV(\"button\", {\n  className: \"btn btn-secondary btn-sm\",\n  onClick: () => signOut(),\n  children: \"Sign Out\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 78,\n  columnNumber: 3\n}, this);\n\n_c3 = SignOuButton;\nexport const useUserState = () => {\n  _s3();\n\n  const [user, setUser] = useState();\n  useEffect(() => {\n    firebase.auth.onAuthStateChanged(setUser);\n  }, []);\n  return [user];\n};\n\n_s3(useUserState, \"hT6C72rcbfRUedrDq+TPaFfRI/M=\");\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"SignInButton\");\n$RefreshReg$(_c2, \"TermSelector\");\n$RefreshReg$(_c3, \"SignOuButton\");","map":{"version":3,"sources":["/Users/tangkailai/Desktop/NU_CS/CS_497/scheduler/src/utilities/firebase.js"],"names":["initializeApp","getDatabase","onValue","ref","set","React","useState","useEffect","getAuth","GoogleAuthProvider","onIdTokenChanged","signInWithPopup","signOut","TermButton","terms","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","database","useData","path","transform","data","setData","loading","setLoading","error","setError","dbRef","snapshot","val","value","signInWithGoogle","SignInButton","TermSelector","term","setTerm","user","useUserState","Object","values","map","firebaseSignOut","SignOuButton","setUser","auth","onAuthStateChanged"],"mappings":"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","sourcesContent":["import { initializeApp } from 'firebase/app';\nimport { getDatabase, onValue, ref, set } from 'firebase/database';\nimport React, { useState, useEffect } from 'react';\nimport { getAuth, GoogleAuthProvider, onIdTokenChanged, signInWithPopup, signOut } from 'firebase/auth';\nimport { TermButton } from '../components/CourseList';\nimport { terms } from './times';\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBCQQhCIFW-nefn5_zKn8TEMEuZxn-VQto\",\n    authDomain: \"actions-builder-sdk-3a084.firebaseapp.com\",\n    databaseURL: \"https://actions-builder-sdk-3a084.firebaseio.com\",\n    projectId: \"actions-builder-sdk-3a084\",\n    storageBucket: \"actions-builder-sdk-3a084.appspot.com\",\n    messagingSenderId: \"800885434356\",\n    appId: \"1:800885434356:web:d1a5b33260fcb601eafba1\"\n  };\n\nconst firebase = initializeApp(firebaseConfig);\nconst database = getDatabase(firebase);\n\nexport const useData = (path, transform) => {\n    const [data, setData] = useState();\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState();\n  \n    useEffect(() => {\n      const dbRef = ref(database, path);\n      return onValue(dbRef, (snapshot) => {\n        const val = snapshot.val();\n        setData(transform ? transform(val) : val);\n        setLoading(false);\n        setError(null);\n      }, (error) => {\n        setData(null);\n        setLoading(false);\n        setError(error);\n      });\n    }, [path, transform]);\n    return [data, loading, error];\n  };\n\nexport const setData = (path, value) => (\n  set(ref(database, path), value)\n);\n\nexport const signInWithGoogle = () => {\n  signInWithPopup(getAuth(firebase), new GoogleAuthProvider());\n};\n\nconst SignInButton = () => (\n  <button className=\"btn btn-secondary btn-sm\"\n      onClick={() => signInWithGoogle()}>\n    Sign In\n  </button>\n);\n\nconst TermSelector = ({term, setTerm}) => {\n  const [user] = useUserState();\n  return\n    <div className=\"btn-toolbar justify-content-between\">\n      <div className=\"btn-group\">\n      { \n        Object.values(terms).map(\n          value => <TermButton key={value} term={value} setTerm={setTerm} checked={value === term} />\n        )\n      }\n      </div>\n      { user ? <SignOuButton /> : <SignInButton /> }\n    </div>\n};\n\nconst firebaseSignOut = () => signOut(getAuth(firebase));\n\nexport { firebaseSignOut as signOut };\n\nconst SignOuButton = () => (\n  <button className=\"btn btn-secondary btn-sm\"\n      onClick={() => signOut()}>\n    Sign Out\n  </button>\n);\n\nexport const useUserState = () => {\n  const [user, setUser] = useState();\n\n  useEffect(() => {\n    firebase.auth.onAuthStateChanged(setUser);\n  }, []);\n\n  return [user];\n};\n\n"]},"metadata":{},"sourceType":"module"}